<UserControl x:Class="KLPlugins.Leaderboard.SettingsControlDemo"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:KLPlugins.Leaderboard"
             xmlns:styles="clr-namespace:SimHub.Plugins.Styles;assembly=SimHub.Plugins" 
             mc:Ignorable="d" 
             xmlns:Mah="http://metro.mahapps.com/winfx/xaml/controls"
             xmlns:ui="clr-namespace:SimHub.Plugins.UI;assembly=SimHub.Plugins" 
             xmlns:mdxam="clr-namespace:MdXaml;assembly=MdXaml"
             xmlns:mde="clr-namespace:MdXaml.Ext"
             d:DesignHeight="300" d:DesignWidth="600" 
             Loaded="UserControl_Loaded">

    <UserControl.Resources>
        <!-- Limit tooltip width. -->
        <Style TargetType="ToolTip">
            <Style.Resources>
                <Style TargetType="ContentPresenter">
                    <Style.Resources>
                        <Style TargetType="TextBlock">
                            <Setter Property="TextWrapping" Value="Wrap" />
                        </Style>
                    </Style.Resources>
                </Style>
            </Style.Resources>
            <Setter Property="MaxWidth" Value="300" />
        </Style>

        <!-- Default toggle button style -->
        <Style TargetType="styles:SHToggleButton">
            <Setter Property="Width" Value="75" />
            <Setter Property="Height" Value="20" />
        </Style>

        <!-- Default text block style -->
        <Style TargetType="TextBlock">
            <Setter Property="FontSize" Value="13" />
            <Setter Property="Margin" Value="5,5,0,5" />
            <Setter Property="VerticalAlignment" Value="Center"/>
            <Setter Property="HorizontalAlignment" Value="Left"/>
            <Setter Property="TextWrapping" Value="Wrap"/>
        </Style>

        <!-- Default section style -->
        <Style TargetType="styles:SHSectionTitle">
            <Setter Property="FontSize" Value="20"/>
        </Style>

        <!-- Markdown style based on https://github.com/whistyun/MdXaml/blob/master/MdXaml/MarkdownMigFree.Style.xaml -->
        <Style TargetType="FlowDocument" x:Key="DocumentStyle">
            <Setter Property="FontFamily"    Value="Helvetica" />
            <Setter Property="TextAlignment" Value="Left" />
            <Setter Property="PagePadding"   Value="0"/>
            <Setter Property="FontSize"      Value="14"/>

            <Style.Resources>
                <Style TargetType="Section">
                    <Setter Property="Padding"         Value="10, 5"/>
                    <Setter Property="BorderBrush"     Value="#DEDEDE"/>
                    <Setter Property="BorderThickness" Value="5,0,0,0"/>
                </Style>

                <Style TargetType="avalonEdit:TextEditor" xmlns:avalonEdit="http://icsharpcode.net/sharpdevelop/avalonedit">
                    <Setter Property="Background"                    Value="#EEEEEE"/>
                    <Setter Property="HorizontalScrollBarVisibility" Value="Auto"/>
                    <Setter Property="VerticalScrollBarVisibility"   Value="Auto"/>
                    <Setter Property="Margin"                        Value="2,0,2,0"/>
                    <Setter Property="Padding"                       Value="3"/>
                </Style>

                <Style TargetType="Paragraph">
                    <Setter Property="Margin" Value="0, 7, 0, 0"/>

                    <Style.Triggers>
                        <Trigger Property="Tag" Value="Heading1">
                            <Setter Property="Margin" Value="0, 0, 15, 0"/>

                            <Setter Property="Foreground"  Value="#ff000000" />
                            <Setter Property="FontSize"    Value="28"/>
                            <Setter Property="FontWeight"  Value="Bold" />
                        </Trigger>

                        <Trigger Property="Tag" Value="Heading2">
                            <Setter Property="Margin" Value="0, 0, 15, 0"/>

                            <Setter Property="Foreground"  Value="#ff000000" />
                            <Setter Property="FontSize"    Value="21"/>
                            <Setter Property="FontWeight"  Value="Bold" />
                        </Trigger>

                        <Trigger Property="Tag" Value="Heading3">
                            <Setter Property="Margin" Value="0, 0, 10, 0"/>

                            <Setter Property="Foreground"  Value="#ff000000" />
                            <Setter Property="FontSize"    Value="17" />
                            <Setter Property="FontWeight"  Value="Bold" />
                        </Trigger>

                        <Trigger Property="Tag" Value="Heading4">
                            <Setter Property="Margin" Value="0, 0, 5, 0"/>

                            <Setter Property="Foreground"  Value="#ff000000" />
                            <Setter Property="FontSize"    Value="14"/>
                            <Setter Property="FontWeight"  Value="Bold" />
                        </Trigger>

                        <Trigger Property="Tag" Value="CodeBlock">
                            <Setter Property="FontFamily" Value="Helvetica"/>
                            <Setter Property="FontSize"   Value="12"/>
                            <Setter Property="Background" Value="#12181F25"/>
                            <Setter Property="Padding"     Value="20, 10"/>
                        </Trigger>

                        <Trigger Property="Tag" Value="Note">
                            <Setter Property="Margin"      Value="5,0,5,0"/>
                            <Setter Property="Padding"     Value="10, 5"/>
                            <Setter Property="BorderBrush" Value="#DEDEDE"/>
                            <Setter Property="BorderThickness" Value="3,3,3,3"/>
                            <Setter Property="Background"  Value="#FAFAFA"/>
                        </Trigger>

                    </Style.Triggers>
                </Style>

                <Style TargetType="Run">
                    <Style.Triggers>
                        <Trigger Property="Tag" Value="CodeSpan">
                            <Setter Property="FontFamily" Value="Helvetica"/>
                            <Setter Property="FontSize"   Value="14"/>
                            <Setter Property="Background" Value="#12181F25"/>
                        </Trigger>
                    </Style.Triggers>
                </Style>

                <Style TargetType="Hyperlink">
                    <Setter Property="TextDecorations"    Value="None" />
                </Style>

            </Style.Resources>
        </Style>

    </UserControl.Resources>

    <styles:SHTabControl>
        <styles:SHTabItem  Header="Plugin info">
            <mdxam:MarkdownScrollViewer x:Name="PluginInfoMarkdown" MarkdownStyle="{StaticResource DocumentStyle}" />

        </styles:SHTabItem>


        <styles:SHTabItem Header="General settings">
            <StackPanel x:Name="GenSettings_StackPanel" Margin="20" CanVerticallyScroll="True">

                <!-- ACC Config location -->
                
                <StackPanel Orientation="Horizontal">
                    <TextBlock Text="ACC configuration location: " Width="200"/>
                    <TextBox x:Name="AccDataLocation_TextBox" Width="500" 
                                 HorizontalAlignment="Left" 
                                 TextChanged="AccDataLocation_TextChanged" 
                                 ToolTip="Location of ACC configuration folder. That is where for example ..\Config\broadcasting.json is located."/>
                </StackPanel>

                <!-- Num overall pos -->

                <StackPanel Orientation="Horizontal">
                    <TextBlock Text="Number of overall positions: " Width="200"/>
                    <Mah:NumericUpDown x:Name="NumOverallPos_NumericUpDown" 
                                           HasDecimals="False" 
                                           Width="100" 
                                           Minimum="0" Maximum="100" Interval="1" 
                                           ValueChanged="NumOverallPos_NumericUpDown_ValueChanged"
                                           ToolTip="Set number of overall positions exposed as properties. Note that this must be larger than all the cars as otherwise in class and relative positions may be missing some cars."/>
                </StackPanel>

                <!-- Num relative pos -->
                
                <StackPanel Orientation="Horizontal">
                    <TextBlock Text="Number of relative positions: " Width="200"/>
                    <Mah:NumericUpDown x:Name="NumRelativePos_NumericUpDown" 
                                           HasDecimals="False" 
                                           Width="100" 
                                           Minimum="0" Maximum="100" Interval="1" 
                                           ValueChanged="NumRelativePos_NumericUpDown_ValueChanged"
                                           ToolTip="Set number of relative positions exposed from the focused car in one direction. That is if it's set to 5, we show 5 cars ahead and 5 behind."
                                           />
                </StackPanel>

                <!-- Num drivers -->
                
                <StackPanel Orientation="Horizontal">
                    <TextBlock Text="Number of drivers: " Width="200"/>
                    <Mah:NumericUpDown x:Name="NumDrivers_NumericUpDown" 
                                           HasDecimals="False" 
                                           Width="100" 
                                           Minimum="0" Maximum="10" Interval="1" 
                                           ValueChanged="NumDrivers_NumericUpDown_ValueChanged"
                                           ToolTip="Set number of drivers shown per car. Should be higher or equal to the number of maximum drivers possible for you."/>
                </StackPanel>

                <!-- Update interval -->

                <StackPanel Orientation="Horizontal">
                <TextBlock Text="Data update interval: " Width="200"/>
                <Mah:NumericUpDown x:Name="UpdateInterval_NumericUpDown" 
                                        HasDecimals="False" 
                                        Width="100" 
                                        Minimum="10" Maximum="5000" Interval="10" 
                                        ValueChanged="UpdateRate_NumericUpDown_ValueChanged"
                                        ToolTip="Sets the update interval of data from ACC. As leaderboard data doesn't change that fast something around 1000ms should work very well. But you can go lower to provide smoother visuals."/>
                </StackPanel>

                <!-- Enable logging -->
                
                <StackPanel Orientation="Horizontal">
                    <TextBlock Text="Log info: " Width="200"/>
                    <styles:SHToggleButton x:Name="Logging_ToggleButton" 
                                               Click="Logging_ToggleButton_Click"
                                               ToolTip="Enable or disable information logging. Errors will still be logged."/>
                </StackPanel>
            </StackPanel>
        </styles:SHTabItem>

        <styles:SHTabItem Header="Exposed properties">

            <ScrollViewer>
                <StackPanel>

                    <TextBlock x:Name="ExposedPropertiesInfo_TextBlock" 
                               Text="Here you can select all the properties you wish to use."
                               TextWrapping="Wrap" HorizontalAlignment="Left"/>

                    <!-- Properties for each car -->
                    
                    <Separator Margin="0,15,0,1"/>
                    <Separator Margin="0,1,0,10"/>
                    <styles:SHSectionTitle Text="PROPERTIES FOR EACH CAR"/>
                    <StackPanel x:Name="ExposedCarProperties_StackPanel">
                        <TextBlock Width="600" TextWrapping="Wrap">
                            Each properties car be accessed as "Overall.05.<Italic>propertyName</Italic>".
                        </TextBlock>

                    </StackPanel>


                    <!-- Exposed drivers -->

                    <Separator Margin="0,15,0,1"/>
                    <Separator Margin="0,1,0,10"/>
                    <styles:SHSectionTitle Text="EXPOSED DRIVERS"/>
                    <StackPanel x:Name="ExposedDrivers_StackPanel">
                        <TextBlock Width="600" TextWrapping="Wrap">
                            Here you can select which drivers you want exposed. Current driver is always show as first driver.
                        </TextBlock>


                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="Current driver: " Width="100"/>
                            <styles:SHToggleButton x:Name="CurrentDriverInfo_ToggleButton"/>
                            <TextBlock Width="600" TextWrapping="Wrap">
                                Expose properties of only current driver as "Overall.05.Driver.01.<Italic>propertyName</Italic>".
                            </TextBlock>

                        </StackPanel>

                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="All drivers: " Width="100"/>
                            <styles:SHToggleButton x:Name="AllDriversInfo_ToggleButton" />
                            <TextBlock Width="600" TextWrapping="Wrap">
                                Expose properties of all drivers as "Overall.05.Driver.03.<Italic>propertyName</Italic>".
                            </TextBlock>
                        </StackPanel>
                    </StackPanel>

                    <!-- Properties for each car -->
                    
                    <Separator Margin="0,15,0,1"/>
                    <Separator Margin="0,1,0,10"/>
                    <styles:SHSectionTitle Text="PROPERTIES FOR EACH DRIVER"/>
                    <StackPanel x:Name="ExposedDriverProperties_StackPanel"/>

                    <!-- Other properties -->

                    <Separator Margin="0,15,0,1"/>
                    <Separator Margin="0,1,0,10"/>
                    <styles:SHSectionTitle Text="OTHER PROPERTIES"/>
                    <StackPanel x:Name="OtherProperties_StackPanel">
                        <TextBlock Width="600" TextWrapping="Wrap">
                                These are exposed as standalone properties not linked to any cars.
                        </TextBlock>

                    </StackPanel>

                    <!-- -->

                </StackPanel>
            </ScrollViewer>


        </styles:SHTabItem>

        <styles:SHTabItem Header="Exposed orderings">
            <ScrollViewer>
                <StackPanel>
                    <TextBlock x:Name="ExposedOrderingsInfo_TextBlock" TextWrapping="Wrap" HorizontalAlignment="Left"/>

                    <Separator Margin="0,15,0,1"/>
                    <Separator Margin="0,1,0,10"/>
                    <StackPanel x:Name="ExposedOrderings_StackPanel"/>

                </StackPanel>
            </ScrollViewer>
        </styles:SHTabItem>

    </styles:SHTabControl>

</UserControl>
